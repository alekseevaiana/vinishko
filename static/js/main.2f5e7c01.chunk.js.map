{"version":3,"sources":["img/trash.png","img/arrow-back.svg","components/calendars-list/calendars-list.js","components/button/button.js","components/calendar-list-page/calendar-list-page.js","components/page-header/page-header.js","components/create-calendar-page/create-calendar-page.js","components/calendar-table/calendar-table.js","components/calendar-page/calendar-page.js","components/app/app.js","index.js"],"names":["module","exports","__webpack_require__","p","CalendarsList","_ref","calendars","goToTheCalendar","calendarItems","map","calendar","react_default","a","createElement","className","key","id","onClick","event","preventDefault","title","Button","type","children","btnType","CalendarsListPage","onCreateClick","calendars_list_calendars_list","components_button_button","evt","PageHeader","trashElement","pageHeaderCalendarStyle","onArrowBackClick","withDelete","deleteItem","classNames","src","trash","alt","width","height","arrowBack","CreateCalendarPage","state","label","onLabelChange","e","_this","setState","target","value","onSubmit","props","addItem","this","page_header_page_header","htmlFor","onChange","autoFocus","Component","CalendarTable","_this$props","toggleDay","checkedDates","today","Date","date","startDate","d","dayOfWeek","getDay","setDate","getDate","getMonday","elements","_loop","i","isChecked","checkedList","strDate","year","getFullYear","month","getMonth","day","formatNumber","concat","dateToString","includes","isDateInChecked","currentDate","isSameDay","push","d1","d2","number","String","CalendarPage","calendar_table_CalendarTable","lsKey","getCalendarFromCalendarsById","find","cal","addItemToList","list","item","Object","toConsumableArray","restoreItems","dataText","localStorage","getItem","JSON","parse","saveItems","stringify","setItem","App","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","goToForm","page","goBackToMain","selectedCalendarId","text","length","calendarsIds","Math","max","apply","getMaxId","newCalendars","calendarId","filter","array","newElement","index","theCalendar","theCheckedDates","newDatesList","dates","dateIndex","indexOf","slice","removeDateFromList","newCalendar","objectSpread","theCalendarIdx","element","_this$state","calendar_list_page_calendar_list_page","create_calendar_page_CreateCalendarPage","calendar_page_CalendarPage","ReactDOM","render","app_App","document","getElementById"],"mappings":"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","file":"static/js/main.2f5e7c01.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/arrow-back.23ca37b4.svg\";","import React from 'react';\nimport './calendars-list.css';\n\nconst CalendarsList = ({calendars, goToTheCalendar}) => {\n\n  const calendarItems = calendars.map((calendar) => {\n    const handleClick = (event) => {\n      event.preventDefault()\n      goToTheCalendar(calendar)\n    }\n    return (\n      <li className='calendars-list__item' key={calendar.id}>\n        <span className='calendars-list__shape'></span>\n        <a\n          className=\"calendars-list__link\"\n          onClick={handleClick}\n        >{calendar.title}</a>\n        </li>\n    )\n  })\n\n  return (\n    <ul className=\"calendars-list\">\n      {calendarItems}\n    </ul>\n  )\n}\n\nexport default CalendarsList","import React from 'react'\nimport './button.css';\n\nconst Button = ({onClick, type, children}) => {\n const btnType = type || 'button'\n  return (\n    <button type={btnType} className='button' onClick={onClick}>\n      {children}\n    </button>\n  )\n}\n\nexport default Button","import React from 'react'\nimport './calendar-list-page.css';\nimport CalendarsList from '../calendars-list/calendars-list';\nimport Button from '../button/button'\n\nconst CalendarsListPage = ({calendars, onCreateClick, goToTheCalendar}) => {\n\n  const handleClick = evt => {\n    evt.preventDefault()\n    onCreateClick()\n  }\n\n  return (\n    <main className=\"calendar-list-page\">\n      <CalendarsList\n        calendars={calendars}\n        goToTheCalendar={goToTheCalendar}/>\n      <Button onClick={handleClick}>Create</Button>\n    </main>\n  )\n}\n\nexport default CalendarsListPage","import React from 'react'\nimport './page-header.css'\nimport arrowBack from '../../img/arrow-back.svg'\nimport trash from '../../img/trash.png'\n\nconst PageHeader = ({children, pageHeaderCalendarStyle, onArrowBackClick, withDelete, deleteItem, calendar}) => {\n\n  let classNames = 'page-header'\n\n  if (pageHeaderCalendarStyle) {\n    classNames = classNames + ' page-header--calendar'\n  }\n\n  let trashElement\n  if (withDelete) {\n    trashElement =  <div onClick={() => deleteItem(calendar.id)}>\n      <img src={trash} alt=\"delete\" width=\"40px\" height=\"40px\"/>\n    </div>\n  }\n\n  return (\n    <div className={classNames}>\n      <div className=\"page-header__container\">\n        <button className=\"page-header__arrow-back\"\n          onClick={onArrowBackClick}\n        >\n          <img src={arrowBack} alt=\"back\"/>\n        </button>\n        <div className=\"page-header__wrapper-right\">\n          <h2 className=\"page-header__title\">{children}</h2>\n            {trashElement}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default PageHeader","import React, {Component} from 'react'\nimport './create-calendar-page.css'\nimport Button from '../../components/button/button'\nimport PageHeader from '../../components/page-header/page-header'\n\nexport default class CreateCalendarPage extends Component {\n  state = {\n    label: '',\n  }\n\n  onLabelChange = (e) => {\n    this.setState({\n      label: e.target.value,\n    })\n  }\n\n  onSubmit = (e) => {\n    e.preventDefault()\n    this.props.addItem(this.state.label)\n    this.setState({\n      label: '',\n    })\n  }\n\n\n  render() {\n\n    const {onArrowBackClick} = this.props\n\n    const {label} = this.state\n\n\n    return (\n      <div className=\"create-calendar-page\"\n\n      >\n        <PageHeader\n          onArrowBackClick={onArrowBackClick}\n        >New</PageHeader>\n        <form onSubmit={this.onSubmit}>\n\n          <label htmlFor=\"\" className=\"create-calendar-page__label\">\n            Enter the title</label>\n          <input type=\"text\" className=\"create-calendar-page__input\"\n            onChange={this.onLabelChange}\n            value={this.state.label}\n            autoFocus\n          />\n          <Button type=\"submit\">Create</Button>\n        </form>\n      </div>\n    )\n  }\n}","import React, {Component} from 'react'\nimport './calendar-table.css'\n\nexport default class CalendarTable extends Component {\n\n\n  render() {\n    const {calendar, toggleDay} = this.props;\n    const {checkedDates} = calendar;\n    const today = new Date()\n\n    let date = new Date(calendar.startDate)\n    // создается новая дата на основе состояния в app\n    date = getMonday(date)\n    // первый понедельник\n\n    const elements = [];\n\n    for (let i = 0; i < 365; i++) {\n      const isChecked = isDateInChecked(checkedDates, date);\n\n      let day = date.getDate();\n      let month = date.getMonth() + 1;\n      let year = date.getFullYear();\n\n      month = formatNumber(month)\n      day = formatNumber(day)\n\n      let currentDate = `${year}-${month}-${day}`;\n\n      let classNames = isChecked ? 'calendar-cell calendar-cell--checked' : 'calendar-cell'\n\n      if (isSameDay(date, today) && !isChecked) {\n        classNames += ' calendar-cell--today-unchecked'\n      } else if (isSameDay(date, today) && isChecked) {\n        classNames += ' calendar-cell--today-checked'\n      }\n      // добавить еще один класс, который говорит сегодня это или не сегодня\n      // если сегодня, то calendar-cell--today\n\n      elements.push(\n\n        <div\n          className={classNames}\n          key={i}\n          onClick={() => toggleDay(currentDate, calendar.id)}\n        >\n          {day}/{month}\n        </div>\n      );\n\n      date.setDate(date.getDate() + 1)\n    }\n\n    return <div className=\"calendar-grid\">\n      {elements}\n    </div>\n  }\n}\n\nfunction isDateInChecked(checkedList, date) {\n\n  const strDate = dateToString(date);\n  return checkedList.includes(strDate);\n}\n\nfunction isSameDay(d1, d2) {\n  return d1.getFullYear() === d2.getFullYear() &&\n    d1.getMonth() === d2.getMonth() &&\n    d1.getDate() === d2.getDate()\n}\n\nfunction formatNumber(number) {\n  if (number < 10 ) {\n    return '0' + String(number)\n  }\n\n  return String(number)\n}\n\nfunction dateToString(date) {\n  const year = date.getFullYear();\n  let month = date.getMonth() + 1;\n  let day = date.getDate();\n\n  month = formatNumber(month)\n  day = formatNumber(day)\n\n  return `${year}-${month}-${day}`\n}\n\nfunction getMonday(date) {\n  const d = new Date(date)\n\n  const dayOfWeek = date.getDay()\n  if (dayOfWeek === 1) {\n    return d\n  }\n\n  d.setDate(d.getDate() - (dayOfWeek - 1))\n\n  return d\n}","import React, {Component} from 'react'\nimport './calendar-page.css'\nimport PageHeader from '../../components/page-header/page-header'\nimport CalendarTable from '../../components/calendar-table/calendar-table'\nimport trash from '../../img/trash.png'\n\nexport default class CalendarPage extends Component {\n\n  render() {\n    const {calendar, onArrowBackClick, toggleDay, deleteItem} = this.props\n    return (\n      <main className=\"calendar-page\">\n        <PageHeader\n          pageHeaderCalendarStyle\n          onArrowBackClick={onArrowBackClick}\n          withDelete={true}\n          deleteItem={deleteItem}\n          calendar={calendar}\n        >{calendar.title}</PageHeader>\n        <CalendarTable calendar={calendar}\n          toggleDay={toggleDay}\n        />\n      </main>\n    )\n  }\n}","import React, {Component} from 'react'\nimport CalendarsListPage from '../../components/calendar-list-page/calendar-list-page'\nimport CreateCalendarPage from '../../components/create-calendar-page/create-calendar-page'\nimport CalendarPage from '../../components/calendar-page/calendar-page'\nimport './app.css'\n\nconst lsKey = 'items'\n\n// получает список календарей и айди какого то календаря\n// и возвращает календарь с таким айди из списка\nfunction getCalendarFromCalendarsById(calendars, id) {\n  return calendars.find(cal => cal.id === id)\n}\n\nfunction addItemToList(list, item) {\n  return [\n    ...list,\n    item,\n  ]\n}\n\nfunction removeDateFromList(dates, date) {\n  const dateIndex = dates.indexOf(date)\n\n  return [\n    ...dates.slice(0, dateIndex),\n    ...dates.slice(dateIndex + 1),\n  ]\n}\n\nfunction replaceInArrayByIndex(array, newElement, index) {\n  return [\n    ...array.slice(0, index),\n    newElement,\n    ...array.slice(index + 1),\n  ]\n}\n\n\n// достает данные из localstorege\nfunction restoreItems() {\n  const dataText = localStorage.getItem(lsKey)\n\n  try {\n    const calendars = JSON.parse(dataText)\n\n    return calendars || []\n  } catch (e) {\n    return []\n  }\n}\n\nfunction saveItems(calendars) {\n  const dataText = JSON.stringify(calendars)\n\n  localStorage.setItem(lsKey, dataText)\n}\n\nfunction getMaxId(calendars) {\n  if (calendars.length === 0) {\n    return 0\n  }\n\n  const calendarsIds = calendars.map(calendar => calendar.id)\n\n\n  return Math.max(...calendarsIds)\n}\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      page: 'main',\n      calendars: restoreItems(),\n      selectedCalendarId: 1,\n    }\n  }\n\n\n  goToForm = () => {\n    this.setState({page: 'create'})\n  }\n\n  goBackToMain = () => {\n    this.setState({page: 'main'})\n  }\n\n  goToTheCalendar = (calendar) => {\n    this.setState({page: 'calendar', selectedCalendarId: calendar.id})\n  }\n\n  addItem = (text) => {\n\n    this.setState(({calendars}) => {\n\n      const id = getMaxId(calendars)\n      const newId = id + 1\n\n      const newCalendar = {\n        id: newId,\n        title: text,\n        startDate: new Date(),\n        checkedDates: [],\n      }\n\n      const newCalendars = addItemToList(calendars, newCalendar)\n\n      saveItems(newCalendars)\n\n      return {\n        calendars: newCalendars,\n        page: 'main',\n      }\n    })\n  }\n\n  deleteItem = (calendarId) => {\n    this.setState((state) => {\n      const {calendars} = state;\n      const newCalendars = calendars.filter((calendar) => calendar.id !== calendarId);\n      saveItems(newCalendars)\n        return {\n          calendars: newCalendars,\n          page: 'main',\n        }\n      },\n    )\n  }\n\n\n  toggleDay = (currentDate, calendarId) => {\n    this.setState((state) => {\n      const {calendars} = state\n\n      const theCalendar = getCalendarFromCalendarsById(calendars, calendarId)\n\n\n      let theCheckedDates = theCalendar.checkedDates\n\n      const isDateAlreadyChecked = theCheckedDates.includes(currentDate)\n\n      const newDatesList = isDateAlreadyChecked ?\n        removeDateFromList(theCheckedDates, currentDate) :\n        addItemToList(theCheckedDates, currentDate)\n\n      let newCalendar = {\n        ...theCalendar,\n        checkedDates: newDatesList,\n      }\n\n      const theCalendarIdx = calendars.indexOf(theCalendar)\n\n      const newCalendars = replaceInArrayByIndex(calendars, newCalendar, theCalendarIdx)\n\n      saveItems(newCalendars)\n\n      return {\n        calendars: newCalendars,\n      }\n    })\n  }\n\n\n  render() {\n    const {page, calendars, selectedCalendarId} = this.state\n\n\n    let element\n    if (page === 'main') {\n      element = <CalendarsListPage\n        calendars={calendars}\n        onCreateClick={this.goToForm}\n        goToTheCalendar={this.goToTheCalendar}\n      />\n    }\n\n    if (page === 'create') {\n      element = <CreateCalendarPage\n        onArrowBackClick={this.goBackToMain}\n        addItem={this.addItem}\n      />\n    }\n\n    if (page === 'calendar') {\n      const theCalendar = getCalendarFromCalendarsById(calendars, selectedCalendarId)\n      element = <CalendarPage\n        calendar={theCalendar}\n        onArrowBackClick={this.goBackToMain}\n        toggleDay={this.toggleDay}\n        deleteItem={this.deleteItem}\n      />\n    }\n\n    return (\n      <div className=\"container\">\n        {element}\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/app/app'\n\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n"],"sourceRoot":""}